<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf" lang="pt-br">

<ui:composition template="Layout.xhtml">
	<f:metadata>
		<f:viewParam name="matricula" value="#{alunoBean.matricula}" />
		<f:viewAction action="#{alunoBean.carregar}" />
	</f:metadata>
	<ui:define name="conteudo">
		<h1>#{alunoBean.titulo}</h1>
		<h:panelGroup rendered="#{!facesContext.messageList.isEmpty()}">
		<div id="infoMessage">
			<h:messages />
		</div>
		</h:panelGroup>
		<br />
		<form jsf:id="form">
			<!-- Dados Pessoais -->
			<input type="hidden" jsf:value="#{alunoBean.aluno.matricula}" />
			<fieldset>
				<legend>Dados Pessoais</legend>
				<label for="nome">Nome:</label><br /> 
				<input type="text" jsf:value="#{alunoBean.aluno.nome}" id="nome" /><br />
				<select name="sexo"	jsf:value="#{alunoBean.aluno.sexo}" id="sexo" size="0">
					<f:selectItems value="#{dataBean.sexos}" var="s" />
				</select><br />
				<label for="rg">RG:</label><br />
				<input type="text" jsf:value="#{alunoBean.aluno.rg}" id="rg" /><br />
				<label for="dataDeNascimento">Data De Nascimento:</label><br />
				<input type="date" jsf:value="#{alunoBean.aluno.dataNascimento}" id="dataDeNascimento">
					<f:convertDateTime type="localDate" pattern="yyyy-MM-dd" />
				</input> <br />
			</fieldset>

			<!-- Situação -->
			<fieldset>
				<legend>Situacao</legend>
				<label for="situacao">Situacao</label><br /> <select name="situacao" jsf:value="#{alunoBean.aluno.situacao}" id="situacao" size="0">
					<f:selectItems value="#{dataBean.situacao}" />
				</select><br />
			</fieldset>

			<!-- Endereço -->
			<fieldset>
				<legend>Endereco</legend>
				<label for="cep">Cep:</label><br /> <input type="text" jsf:value="#{alunoBean.aluno.endereco.cep}" id="cep" /><br />
				<label for="rua">Rua:</label><br /> <input type="text" jsf:value="#{alunoBean.aluno.endereco.rua}" id="rua" /><br />
				<label for="numero">Numero:</label><br /> <input type="text" jsf:value="#{alunoBean.aluno.endereco.numero}" id="numero" /><br />
				<label for="complemento">Complemento:</label><br />
				<input type="text" jsf:value="#{alunoBean.aluno.endereco.complemento}" id="complemento" /><br /> 
				<label for="cidade">Cidade:</label><br />
				<input type="text" jsf:value="#{alunoBean.aluno.endereco.cidade}" id="cidade" /><br />
				<label for="estado">Estado:</label> 
				<select name="estado" jsf:value="#{alunoBean.aluno.endereco.estado.sigla}" id="estado" size = "0">
					<f:selectItems value="#{dataBean.estados}" var="e" itemLabel="#{e.nome}" itemValue="#{e.sigla}" />
				</select><br />	
			</fieldset>

			<!-- Telefone -->
			<fieldset>
				<legend>Contato</legend>
				<label for="email">E-mail:</label><br /> <input type="email" jsf:value="#{alunoBean.aluno.email}" id="email" /><br />
				<label for="telefoneCelularDDD">Telefone Celular:</label><br /> 
				<input type="tel" jsf:value="#{alunoBean.aluno.telefone.dddCelular}" id="telefoneCelularDDD" />
				<input type="tel" jsf:value="#{alunoBean.aluno.telefone.numeroCelular}" id="telefoneCelular" /><br />
				<label for="telefoneFixo">Telefone Fixo:</label><br /> 
				<input type="tel" jsf:value="#{alunoBean.aluno.telefone.dddFixo}" id="telefoneFixoDDD" /> 
				<input type="tel" jsf:value="#{alunoBean.aluno.telefone.numeroFixo}" id="telefoneFixo" /><br />
			</fieldset>
			<br />
			<!-- Botões -->
			<input type="submit" value="Cadastrar" jsf:action="#{alunoBean.gravar()}" id="submit" />
			<input type="button" value="Mostrar Relatorio" id="submit2" onclick="funcao1()" />
		</form>
	</ui:define>
</ui:composition>

</html>